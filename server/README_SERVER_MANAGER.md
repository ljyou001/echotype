# 服务器管理UI使用说明

## 概述

服务器管理UI是一个独立的图形界面工具，用于管理EchoType的本地语音识别服务器。

## 功能特性

- **服务器控制**: 启动、停止、重启服务器
- **状态监控**: 实时显示服务器运行状态
- **加载进度**: 显示模型加载进度
- **运行日志**: 查看服务器运行日志

## 使用方法

### 方式1: 从客户端打开

1. 运行EchoType客户端（run_tray.py）
2. 右键点击托盘图标 → 打开设置
3. 在"模型"标签页中选择"本地模型"
4. 点击"打开服务器管理"按钮

### 方式2: 独立运行

在server目录下运行：

```bash
python server_manager_ui.py
```

或使用启动脚本：

```bash
python run_server_manager.py
```

## 界面说明

### 服务器控制标签页

- **服务器状态**: 显示当前服务器是否运行
  - ● 运行中（绿色）
  - ○ 未运行（红色）
  
- **加载进度**: 显示模型加载的详细进度信息

- **控制按钮**:
  - 启动服务器: 启动本地模型服务器
  - 停止服务器: 停止正在运行的服务器
  - 重启服务器: 重启服务器（先停止再启动）

### 运行日志标签页

- 显示服务器的运行日志
- 可以清空日志内容

## 注意事项

1. 服务器管理UI会自动检测服务器状态（每2秒检查一次）
2. 启动服务器后，需要等待模型加载完成才能使用
3. 停止服务器时，会自动查找并终止所有相关进程（包括非UI启动的）
4. 关闭管理UI不会停止服务器，服务器会继续在后台运行
5. 需要安装psutil库来支持进程管理功能：`pip install psutil`

## 技术细节

- 服务器默认监听地址: 127.0.0.1:6016
- 进度信息存储在: server/progress.json
- 服务器入口文件: start_server.py
